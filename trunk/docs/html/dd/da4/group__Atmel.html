<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>KAIKALib: Dataflash serie Interface (df.c)</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="../../modules.html"><span>Modules</span></a></li>
    <li><a href="../../annotated.html"><span>Classes</span></a></li>
    <li><a href="../../files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>Dataflash serie Interface (df.c)<br>
<small>
[<a class="el" href="../../d9/d1d/group__driver__hw.html">Drivers (for external hardware)</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g7a257560e0788dbcfd561c95122e93fe"></a><!-- doxytag: member="Atmel::DF_RDY" ref="g7a257560e0788dbcfd561c95122e93fe" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g7a257560e0788dbcfd561c95122e93fe">DF_RDY</a>&nbsp;&nbsp;&nbsp;7</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Ready status. Low when is ready to accept commands. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g1ba4a5c16d58fec87ff166f75cd8a262"></a><!-- doxytag: member="Atmel::DF_COMP" ref="g1ba4a5c16d58fec87ff166f75cd8a262" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g1ba4a5c16d58fec87ff166f75cd8a262">DF_COMP</a>&nbsp;&nbsp;&nbsp;6</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compare Buffer with Page. Low when data in the main memory page matches the data in the buffer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g93ec2357bab8eb4a45e227104c2dec09"></a><!-- doxytag: member="Atmel::DF_CMD_CONT_ARRAY_READ" ref="g93ec2357bab8eb4a45e227104c2dec09" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g93ec2357bab8eb4a45e227104c2dec09">DF_CMD_CONT_ARRAY_READ</a>&nbsp;&nbsp;&nbsp;0x68</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Continuous Array Read. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g855898fbd619d8c9aca980f482f2ab5b"></a><!-- doxytag: member="Atmel::DF_CMD_MAIN_MEM_PAGE_READ" ref="g855898fbd619d8c9aca980f482f2ab5b" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g855898fbd619d8c9aca980f482f2ab5b">DF_CMD_MAIN_MEM_PAGE_READ</a>&nbsp;&nbsp;&nbsp;0x52</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Main memory page read. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g83e26888f198d6c17c0dc538c38e1764"></a><!-- doxytag: member="Atmel::DF_CMD_BUF_1_READ" ref="g83e26888f198d6c17c0dc538c38e1764" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g83e26888f198d6c17c0dc538c38e1764">DF_CMD_BUF_1_READ</a>&nbsp;&nbsp;&nbsp;0x54</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Buffer 1 read. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g60983a42a89838758538f5aabd3f7d1a"></a><!-- doxytag: member="Atmel::DF_CMD_BUF_2_READ" ref="g60983a42a89838758538f5aabd3f7d1a" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g60983a42a89838758538f5aabd3f7d1a">DF_CMD_BUF_2_READ</a>&nbsp;&nbsp;&nbsp;0x56</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Buffer 2 read. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf8d44e529ca11433c64feef66f18cea3"></a><!-- doxytag: member="Atmel::DF_CMD_BUF_1_WRITE" ref="gf8d44e529ca11433c64feef66f18cea3" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gf8d44e529ca11433c64feef66f18cea3">DF_CMD_BUF_1_WRITE</a>&nbsp;&nbsp;&nbsp;0x84</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Buffer 1 write. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g0a81e358b47dba328313ea912b0d95dc"></a><!-- doxytag: member="Atmel::DF_CMD_BUF_2_WRITE" ref="g0a81e358b47dba328313ea912b0d95dc" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g0a81e358b47dba328313ea912b0d95dc">DF_CMD_BUF_2_WRITE</a>&nbsp;&nbsp;&nbsp;0x87</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Buffer 2 write. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gb65f4fb60a0f7725a5db289799419813"></a><!-- doxytag: member="Atmel::DF_CMD_BUF_1_TO_MAIN_PAGE_PROG_WITH_ERASE" ref="gb65f4fb60a0f7725a5db289799419813" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gb65f4fb60a0f7725a5db289799419813">DF_CMD_BUF_1_TO_MAIN_PAGE_PROG_WITH_ERASE</a>&nbsp;&nbsp;&nbsp;0x83</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Buffer 1 to main memory page program with built-in erase. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf0a4289665c6095abcdbfef7db3f5e40"></a><!-- doxytag: member="Atmel::DF_CMD_BUF_2_TO_MAIN_PAGE_PROG_WITH_ERASE" ref="gf0a4289665c6095abcdbfef7db3f5e40" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gf0a4289665c6095abcdbfef7db3f5e40">DF_CMD_BUF_2_TO_MAIN_PAGE_PROG_WITH_ERASE</a>&nbsp;&nbsp;&nbsp;0x86</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Buffer 2 to main memory page program with built-in erase. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gdfb2f42feee620b35572d94d83fe5755"></a><!-- doxytag: member="Atmel::DF_CMD_BUF_1_TO_MAIN_PAGE_PROG_WITHOUT_ERASE" ref="gdfb2f42feee620b35572d94d83fe5755" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gdfb2f42feee620b35572d94d83fe5755">DF_CMD_BUF_1_TO_MAIN_PAGE_PROG_WITHOUT_ERASE</a>&nbsp;&nbsp;&nbsp;0x88</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Buffer 1 to main memory page program without built-in erase. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="geb916899dfb5e748de6638fb8df33edf"></a><!-- doxytag: member="Atmel::DF_CMD_BUF_2_TO_MAIN_PAGE_PROG_WITHOUT_ERASE" ref="geb916899dfb5e748de6638fb8df33edf" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#geb916899dfb5e748de6638fb8df33edf">DF_CMD_BUF_2_TO_MAIN_PAGE_PROG_WITHOUT_ERASE</a>&nbsp;&nbsp;&nbsp;0x89</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Buffer 2 to main memory page program without built-in erase. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g7f1eb5e7d0e5adbb0e03ad53007b8293"></a><!-- doxytag: member="Atmel::DF_CMD_PAGE_ERASE" ref="g7f1eb5e7d0e5adbb0e03ad53007b8293" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g7f1eb5e7d0e5adbb0e03ad53007b8293">DF_CMD_PAGE_ERASE</a>&nbsp;&nbsp;&nbsp;0x81</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Page erase. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gc76afb3d46b151cb4d66e6648a09293c"></a><!-- doxytag: member="Atmel::DF_CMD_BLOCK_ERASE" ref="gc76afb3d46b151cb4d66e6648a09293c" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gc76afb3d46b151cb4d66e6648a09293c">DF_CMD_BLOCK_ERASE</a>&nbsp;&nbsp;&nbsp;0x50</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Block erase. A block is a group of 8 pages. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g2ddb7cead5ecd1e5d0a3d86bbd7bc383"></a><!-- doxytag: member="Atmel::DF_CMD_MAIN_PAGE_PROG_THROUGH_BUF_1" ref="g2ddb7cead5ecd1e5d0a3d86bbd7bc383" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g2ddb7cead5ecd1e5d0a3d86bbd7bc383">DF_CMD_MAIN_PAGE_PROG_THROUGH_BUF_1</a>&nbsp;&nbsp;&nbsp;0x82</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Main memory page program through buffer 1. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gd4db180125d1cbd6b7a44fc4b70d5f4e"></a><!-- doxytag: member="Atmel::DF_CMD_MAIN_PAGE_PROG_THROUGH_BUF_2" ref="gd4db180125d1cbd6b7a44fc4b70d5f4e" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gd4db180125d1cbd6b7a44fc4b70d5f4e">DF_CMD_MAIN_PAGE_PROG_THROUGH_BUF_2</a>&nbsp;&nbsp;&nbsp;0x85</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Main memory page program through buffer 2. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g5ba0d2bb2c8cb485c93d9da27bbbb52a"></a><!-- doxytag: member="Atmel::DF_CMD_MAIN_MEM_PAGE_TO_BUF_1_TRANS" ref="g5ba0d2bb2c8cb485c93d9da27bbbb52a" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g5ba0d2bb2c8cb485c93d9da27bbbb52a">DF_CMD_MAIN_MEM_PAGE_TO_BUF_1_TRANS</a>&nbsp;&nbsp;&nbsp;0x53</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Main memory page to buffer 1 transfer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g58b2101ddae4fdfa2519c68e2731c387"></a><!-- doxytag: member="Atmel::DF_CMD_MAIN_MEM_PAGE_TO_BUF_2_TRANS" ref="g58b2101ddae4fdfa2519c68e2731c387" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g58b2101ddae4fdfa2519c68e2731c387">DF_CMD_MAIN_MEM_PAGE_TO_BUF_2_TRANS</a>&nbsp;&nbsp;&nbsp;0x55</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Main memory page to buffer 2 transfer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g63d0d688d8decd44d12da3bd87291239"></a><!-- doxytag: member="Atmel::DF_CMD_MAIN_MEM_PAGE_TO_BUF_1_COMP" ref="g63d0d688d8decd44d12da3bd87291239" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g63d0d688d8decd44d12da3bd87291239">DF_CMD_MAIN_MEM_PAGE_TO_BUF_1_COMP</a>&nbsp;&nbsp;&nbsp;0x60</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Main memory page to buffer 1 compare. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g8fc3f99dbb61f81fbf489a6de3b5a29a"></a><!-- doxytag: member="Atmel::DF_CMD_MAIN_MEM_PAGE_TO_BUF_2_COMP" ref="g8fc3f99dbb61f81fbf489a6de3b5a29a" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g8fc3f99dbb61f81fbf489a6de3b5a29a">DF_CMD_MAIN_MEM_PAGE_TO_BUF_2_COMP</a>&nbsp;&nbsp;&nbsp;0x61</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Main memory page to buffer 2 compare. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g31fe4a98512f53e9064319856e036d32"></a><!-- doxytag: member="Atmel::DF_CMD_AUTO_PAGE_REWRITE_THROUGH_BUF_1" ref="g31fe4a98512f53e9064319856e036d32" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g31fe4a98512f53e9064319856e036d32">DF_CMD_AUTO_PAGE_REWRITE_THROUGH_BUF_1</a>&nbsp;&nbsp;&nbsp;0x58</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Auto page rewrite through buffer 1. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g3175d23c15c615b9d7c9c94dfda9ba87"></a><!-- doxytag: member="Atmel::DF_CMD_AUTO_PAGE_REWRITE_THROUGH_BUF_2" ref="g3175d23c15c615b9d7c9c94dfda9ba87" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g3175d23c15c615b9d7c9c94dfda9ba87">DF_CMD_AUTO_PAGE_REWRITE_THROUGH_BUF_2</a>&nbsp;&nbsp;&nbsp;0x59</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Auto page rewrite through buffer 2. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gc13e6ae6e1330bedc8085993786b502b">dfInit</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g989e4ee9c151753d556e392485dc0141">dfMainMemPageReadInit</a> (u16 pageAddr, u16 byteAddr, u08 continuous)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u08&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g3a43f5290bb2c16c4243a455b2ef8da4">dfMainMemPageReadByte</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gfabb182984f09d6c9c0839bfb9202d1c">dfMainMemPageReadStop</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u08&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gdf9e1a93b0c74d256af075fb07b54657">dfStatusRegRead</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g1b06ab6fb74c6d00d52238c076a5b05a">dfBufferRead</a> (u08 bufNum, u16 byteAddr, u08 *myBuffer, u16 numBytes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gdd01ce0f7eb0e759c4bc6ff42904c65a">dfBufferWrite</a> (u08 bufNum, u16 byteAddr, u08 *myBuffer, u16 numBytes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gaa48ccc297341b3e6c90e9745d85759a">dfBufferToMainMemPageProg</a> (u08 bufNum, u16 pageAddr, u08 withErase)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gbf1f21eadb1fede0ec0cbba9a37ada35">dfPageToBufferTransfer</a> (u08 bufNum, u16 pageAddr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u08&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gb0e7c0a7fed387ae12c5952d60f75e9a">dfPageToBufferCompare</a> (u08 bufNum, u16 pageAddr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gf13a7c91a75be3428d2755c6064b1f3a">dfAutoPageRewriteThroughBuffer</a> (u08 buffNum, u16 pageAddr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#gd5de93cb9d3722698b07939f010cea0d">dfPageErase</a> (u16 pageAddr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g75356b4ced2dfa26fe1341b93f957198">dfBlockErase</a> (u16 blockAddr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da4/group__Atmel.html#g498429539652f3115db0ed1420b113d5">dfMainMemoryPageProgramThroughBuffer</a> (u08 buffNum, u16 pageAddr, u16 byteAddr, u08 *myBuffer, u16 numBytes)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include "<a class="code" href="../../df/daa/df_8h.html" title="Atmel Dataflash Memory Interface.">df.h</a>"</span> 
</pre></div> <dl class="user" compact><dt><b>Description</b></dt><dd>This library offers some simple functions which can be used to read and write data using an Atmel Dataflash memory using pages.</dd></dl>
<dl class="user" compact><dt><b>Wiring</b></dt><dd>To work with this library, the memory must be wired to the SPI port of the Atmel microcontroller as described below. Typical Dataflash can operate at up to 20MHz maximum SPI clock rate (thus faster than most AVR's maximum SPI clock rate).</dd></dl>
<pre>
   	SERIAL INPUT (SI):
   		The SI pin is an input-only pin.
   	SERIAL OUTPUT (SO):
   		The SO pin is an output-only.
   	SERIAL CLOCK (SCK):
   		The SCK pin is an input-only. Data is clocked into Dataflash on the 
   		rising edge of SCK and clocked out of Dataflash on the falling edge
   		 of SCK.
   	CHIP SELECT (/CS):
   		Active in low (*).
   	WRITE PROTECT (/WP):
   		Active in low. Wire to VCC to enable write mode.
   	RESET (/RESET)
   		Active in low. The Dataflash incorporates an internal power-on reset 
   		circuit, so there are no restrictions on the /RESET pin during 
   		power-on sequences. If this feature is not used, wire this pin to VCC.
   	READY|/BUSY (READY) (not used in this library):
   		This open drain output pin will be driven low when the dataflash is busy
   		in an internally self-timed operation. This pin is normally in a high 
   		state (through a 1 kohm external pull-up resistor), will be pulled low
   		during programming operations, compare operations, and during 
   		page-to-buffer transfers. Instead of use this pin, it can be replaced by
   		monitoring the bit 7 (RDY) of status register.
   	VCC:
   		Wire to power (2.5 V or 2.7 V up to 3.6 V).
   	GND:
   		Wire to ground.</pre><p>
<pre>   	    (*) you must define this chip select I/O pin in <a class="el" href="../../d9/d6e/dfconf_8h.html" title="Atmel Dataflash Memory Interface Configuration.">dfconf.h</a>
    </pre> <dl class="note" compact><dt><b>Note:</b></dt><dd>This code is currently below version 1.0, and therefore is considered to be lacking in some functionality or documentation, or may not be fully tested. Nonetheless, you can expect most functions to work. </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="gf13a7c91a75be3428d2755c6064b1f3a"></a><!-- doxytag: member="df.h::dfAutoPageRewriteThroughBuffer" ref="gf13a7c91a75be3428d2755c6064b1f3a" args="(u08 buffNum, u16 pageAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfAutoPageRewriteThroughBuffer           </td>
          <td>(</td>
          <td class="paramtype">u08&nbsp;</td>
          <td class="paramname"> <em>buffNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>pageAddr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Auto page rewrite through buffer This mode is only needed if multiple bytes within a page or multiple pages of data are modified in a random fashion. This mode is a combination of two operations: Main Memory Page to Buffer Transfer and Buffer to Main Memory Page Program with Built-in Erase. A page of data is first transferred from the main memory to buffer 1 or buffer 2, and then the same data (from buffer 1 or buffer 2) is programmed back into its original page of main memory. 
</div>
</div><p>
<a class="anchor" name="g75356b4ced2dfa26fe1341b93f957198"></a><!-- doxytag: member="df.h::dfBlockErase" ref="g75356b4ced2dfa26fe1341b93f957198" args="(u16 blockAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfBlockErase           </td>
          <td>(</td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>blockAddr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Block erase A block of eight pages can be erased at one time allowing the Buffer to Main Memory Page Program without Built-in Erase command to be utilized to reduce programming times when writing large amounts of data to the device. 
</div>
</div><p>
<a class="anchor" name="g1b06ab6fb74c6d00d52238c076a5b05a"></a><!-- doxytag: member="df.h::dfBufferRead" ref="g1b06ab6fb74c6d00d52238c076a5b05a" args="(u08 bufNum, u16 byteAddr, u08 *myBuffer, u16 numBytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfBufferRead           </td>
          <td>(</td>
          <td class="paramtype">u08&nbsp;</td>
          <td class="paramname"> <em>bufNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>byteAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u08 *&nbsp;</td>
          <td class="paramname"> <em>myBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>numBytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read from the buffer to AVR memory RAM Data can be read from either on of the two buffers, using different opcodes to specify which buffer to read from into an AVR bufferm RAM. 
</div>
</div><p>
<a class="anchor" name="gaa48ccc297341b3e6c90e9745d85759a"></a><!-- doxytag: member="df.h::dfBufferToMainMemPageProg" ref="gaa48ccc297341b3e6c90e9745d85759a" args="(u08 bufNum, u16 pageAddr, u08 withErase)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfBufferToMainMemPageProg           </td>
          <td>(</td>
          <td class="paramtype">u08&nbsp;</td>
          <td class="paramname"> <em>bufNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>pageAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u08&nbsp;</td>
          <td class="paramname"> <em>withErase</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Buffer to main memory page program Data written into either buffer 1 or buffer 2 can be programmed into the main memory with or without built-in erase. Successive page programming operations without doing a page erase are not recommended. In other words, changing bytes within a page from a "1" to a "0" during multiple page programming operations without erasing that page is not recommended. 
</div>
</div><p>
<a class="anchor" name="gdd01ce0f7eb0e759c4bc6ff42904c65a"></a><!-- doxytag: member="df.h::dfBufferWrite" ref="gdd01ce0f7eb0e759c4bc6ff42904c65a" args="(u08 bufNum, u16 byteAddr, u08 *myBuffer, u16 numBytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfBufferWrite           </td>
          <td>(</td>
          <td class="paramtype">u08&nbsp;</td>
          <td class="paramname"> <em>bufNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>byteAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u08 *&nbsp;</td>
          <td class="paramname"> <em>myBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>numBytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write to the buffer from AVR memory RAM Data can be shifted in from the SO pin into either buffer 1 or buffer 2 from an AVR buffer RAM. 
</div>
</div><p>
<a class="anchor" name="gc13e6ae6e1330bedc8085993786b502b"></a><!-- doxytag: member="df.h::dfInit" ref="gc13e6ae6e1330bedc8085993786b502b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfInit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize AVR&lt;-&gt;Dataflash hardware interface. Prepares hardware for Dataflash access. 
</div>
</div><p>
<a class="anchor" name="g498429539652f3115db0ed1420b113d5"></a><!-- doxytag: member="df.h::dfMainMemoryPageProgramThroughBuffer" ref="g498429539652f3115db0ed1420b113d5" args="(u08 buffNum, u16 pageAddr, u16 byteAddr, u08 *myBuffer, u16 numBytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfMainMemoryPageProgramThroughBuffer           </td>
          <td>(</td>
          <td class="paramtype">u08&nbsp;</td>
          <td class="paramname"> <em>buffNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>pageAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>byteAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u08 *&nbsp;</td>
          <td class="paramname"> <em>myBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>numBytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Main memory page program through buffer This operation is a combination of the Buffer Write and Buffer to Main Memory Page Program with Built-in Erase operations. Data is first shifted into buffer 1 or buffer 2 from AVR buffer RAM and then programmed into a specified page in the main memory. 
</div>
</div><p>
<a class="anchor" name="g3a43f5290bb2c16c4243a455b2ef8da4"></a><!-- doxytag: member="df.h::dfMainMemPageReadByte" ref="g3a43f5290bb2c16c4243a455b2ef8da4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u08 dfMainMemPageReadByte           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a byte from main memory page Read a single byte directly from the main memory. 
</div>
</div><p>
<a class="anchor" name="g989e4ee9c151753d556e392485dc0141"></a><!-- doxytag: member="df.h::dfMainMemPageReadInit" ref="g989e4ee9c151753d556e392485dc0141" args="(u16 pageAddr, u16 byteAddr, u08 continuous)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfMainMemPageReadInit           </td>
          <td>(</td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>pageAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>byteAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u08&nbsp;</td>
          <td class="paramname"> <em>continuous</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize main memory page read A main memory page allows the user to read data directly from any page in the main memory, bypassing both of the data buffers and leaving the contents of the buffers unchanged. By suppling an initial staring address for the main memory array, the continuous flag can be utilized to sequentially read a continuous stream of data from the device. The internal page counter increments automatically. At the last page, the counter returns to the first page. When the continuous flag is 0, only one page is read. 
</div>
</div><p>
<a class="anchor" name="gfabb182984f09d6c9c0839bfb9202d1c"></a><!-- doxytag: member="df.h::dfMainMemPageReadStop" ref="gfabb182984f09d6c9c0839bfb9202d1c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfMainMemPageReadStop           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stop reading from main memory page Stop the reading process directly from the main memory. 
</div>
</div><p>
<a class="anchor" name="gd5de93cb9d3722698b07939f010cea0d"></a><!-- doxytag: member="df.h::dfPageErase" ref="gd5de93cb9d3722698b07939f010cea0d" args="(u16 pageAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfPageErase           </td>
          <td>(</td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>pageAddr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Page erase The optional Page Erase command can be used to individually erase any page in the main memory array allowing the Buffer to Main Memory Page Program without Built-in Erase command to be utilized at a later time. 
</div>
</div><p>
<a class="anchor" name="gb0e7c0a7fed387ae12c5952d60f75e9a"></a><!-- doxytag: member="df.h::dfPageToBufferCompare" ref="gb0e7c0a7fed387ae12c5952d60f75e9a" args="(u08 bufNum, u16 pageAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u08 dfPageToBufferCompare           </td>
          <td>(</td>
          <td class="paramtype">u08&nbsp;</td>
          <td class="paramname"> <em>bufNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>pageAddr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Page to buffer Compare A page of data in main memory can be compared to the data in buffer 1 or buffer 2 after the transferation of a page to the buffer 1 or buffer 2. This function is specific to use after a dfPageToBufferTransfer function. Do not use this function to compare them after a buffer to page program. When the data in the main memory page matches the data in the buffer the function returns 0. 
</div>
</div><p>
<a class="anchor" name="gbf1f21eadb1fede0ec0cbba9a37ada35"></a><!-- doxytag: member="df.h::dfPageToBufferTransfer" ref="gbf1f21eadb1fede0ec0cbba9a37ada35" args="(u08 bufNum, u16 pageAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfPageToBufferTransfer           </td>
          <td>(</td>
          <td class="paramtype">u08&nbsp;</td>
          <td class="paramname"> <em>bufNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>pageAddr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Main memory page to buffer transfer A page of data can be transferred from the main memory to either buffer 1 or buffer 2. 
</div>
</div><p>
<a class="anchor" name="gdf9e1a93b0c74d256af075fb07b54657"></a><!-- doxytag: member="df.h::dfStatusRegRead" ref="gdf9e1a93b0c74d256af075fb07b54657" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u08 dfStatusRegRead           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read status register The status register can be used to determine the device's Ready/Busy status, the result of a Main Memory Page to Buffer Compare operation, or the device density. 
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jan 14 01:37:48 2008 for KAIKALib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
